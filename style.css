/* =========================
   THEME SYSTEM (CSS VARIABLES)
   ========================= */

/* Default theme (Chainsaw Man-ish) */
:root{
  --bg:#0b0c10;
  --panel:#13151b;
  --panel-2:#171a22;
  --text:#f2e9d8;
  --muted:#b9b2a6;

  --accent:#c1121f;    /* primary highlight */
  --accent-2:#ff4d4d;  /* hover glow */

  --line:rgba(242,233,216,.12);
  --shadow:0 10px 30px rgba(0,0,0,.45);
  --radius:14px;

  /* background “glow” blobs */
  --bg-glow-1: rgba(193, 18, 31, 0.14);
  --bg-glow-2: rgba(255, 77, 77, 0.08);
}

/* One Piece vibe: ocean blue + sunny gold */
body[data-theme="op"]{
  --bg:#071426;
  --panel:#0b2240;
  --panel-2:#0f2d52;
  --text:#f6f1e7;
  --muted:#c9c3b8;

  --accent:#f4b000;     /* gold */
  --accent-2:#66c7ff;   /* sea-blue pop */

  --line:rgba(246,241,231,.14);

  /* keep glows subtle so it doesn't wash out to "white" */
  --bg-glow-1: rgba(102, 199, 255, 0.16);
  --bg-glow-2: rgba(244, 175, 0, 0.10);
}

/* My Hero Academia vibe: hero green + bold yellow */
body[data-theme="mha"]{
  --bg:#07110a;
  --panel:#0e1f14;
  --panel-2:#10261a;
  --text:#f2f6ee;
  --muted:#c2cbbf;

  --accent:#1fbf6a;     /* hero green */
  --accent-2:#ffd400;   /* bright yellow */

  --line:rgba(242,246,238,.14);

  --bg-glow-1: rgba(31, 191, 106, 0.16);
  --bg-glow-2: rgba(255, 212, 0, 0.10);
}

/* Theme dropdown styling */
#theme-select{
  margin:0 0 0 8px;
  padding:10px 12px;
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--line);
  border-radius:12px;
  color:var(--text);
  outline:none;
  box-shadow:var(--shadow);
}
#theme-select:focus{
  border-color: color-mix(in srgb, var(--accent) 65%, transparent);
  box-shadow:0 0 0 4px color-mix(in srgb, var(--accent) 18%, transparent), var(--shadow);
}

/* =========================
   GLOBAL
   ========================= */

*{ box-sizing:border-box; }

html,body{ height:100%; }

body{
  margin:0;
  background:
    radial-gradient(900px 500px at 15% 10%, var(--bg-glow-1), transparent 60%),
    radial-gradient(700px 420px at 85% 20%, var(--bg-glow-2), transparent 55%),
    linear-gradient(180deg, #07080b, var(--bg));
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.5;
}

/* Auto-center main content blocks */
body > *{
  max-width:980px;
  margin-left:auto;
  margin-right:auto;
}

/* Typography */
h1{
  margin:34px auto 10px;
  padding:0 18px;
  font-size:clamp(28px,3.6vw,44px);
  letter-spacing:-0.02em;
  text-transform:uppercase;
}
p{
  margin:0 auto 26px;
  padding:0 18px;
  color:var(--muted);
  max-width:70ch;
}
h2{
  margin:26px auto 12px;
  padding:0 18px;
  font-size:20px;
  letter-spacing:0.01em;
}

/* =========================
   NAV / LINKS LIST
   ========================= */

ul{
  list-style:none;
  margin:0 auto 22px;
  padding:0 18px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:12px;
}

ul li a{
  display:block;
  padding:14px 14px;
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--line);
  border-radius:var(--radius);
  color:var(--text);
  text-decoration:none;
  box-shadow:var(--shadow);
  transition:transform 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
  position:relative;
  overflow:hidden;
}

/* slash highlight uses theme accent (not hard-coded red) */
ul li a::after{
  content:"";
  position:absolute;
  inset:-40px -20px auto auto;
  width:180px;
  height:120px;
  background:linear-gradient(135deg, transparent,
    color-mix(in srgb, var(--accent) 55%, transparent));
  transform:rotate(10deg);
  opacity:0.85;
}

ul li a:hover{
  transform:translateY(-2px);
  border-color: color-mix(in srgb, var(--accent) 55%, transparent);
  box-shadow:0 14px 36px rgba(0,0,0,.55);
}

/* =========================
   CONTROLS (GENRE SELECT + BUTTON)
   ========================= */

select,button{ font:inherit; }

select#genre-recommendations{
  margin:0 10px 0 18px;
  padding:12px 12px;
  min-width:220px;
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--line);
  border-radius:12px;
  color:var(--text);
  outline:none;
  box-shadow:var(--shadow);
}

select#genre-recommendations:focus{
  border-color: color-mix(in srgb, var(--accent) 65%, transparent);
  box-shadow:0 0 0 4px color-mix(in srgb, var(--accent) 18%, transparent), var(--shadow);
}

button{
  padding:12px 14px;
  border:1px solid color-mix(in srgb, var(--accent) 60%, transparent);
  border-radius:12px;
  background:linear-gradient(
    180deg,
    var(--accent),
    color-mix(in srgb, var(--accent) 65%, #000)
  );
  color:#fff;
  cursor:pointer;
  box-shadow:var(--shadow);
  transition:transform 120ms ease, filter 120ms ease, box-shadow 120ms ease;
}

button:hover{
  transform:translateY(-1px);
  filter:brightness(1.06);
  box-shadow:0 12px 30px color-mix(in srgb, var(--accent-2) 18%, transparent), var(--shadow);
}

button:active{
  transform:translateY(0px);
  filter:brightness(0.98);
}

/* =========================
   RECOMMENDATIONS OUTPUT
   ========================= */

#recommendations-output{
  margin:18px auto 34px;
  padding:0 18px;
}

#recommendations-output h3{
  margin:18px 0 12px;
  font-size:18px;
  letter-spacing:0.01em;
  color:var(--text);
  border-left:4px solid var(--accent);
  padding-left:10px;
}

/* =========================
   ANIME GRID + CARDS
   ========================= */

.anime-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
}

.anime-card{
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--line);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:var(--shadow);
  transition:transform 140ms ease, border-color 140ms ease;
  position:relative;
}

/* top “tear” line uses theme accent */
.anime-card::before{
  content:"";
  position:absolute;
  inset:0 0 auto 0;
  height:3px;
  background:linear-gradient(90deg, transparent, var(--accent), transparent);
  opacity:0.75;
}

.anime-card:hover{
  transform:translateY(-3px);
  border-color: color-mix(in srgb, var(--accent) 55%, transparent);
}

.anime-card img{
  display:block;
  width:100%;
  height:220px;
  object-fit:cover;
  filter:saturate(1.05) contrast(1.02);
}

.anime-card p{
  margin:0;
  padding:10px 10px 12px;
  color:var(--text);
  font-size:14px;
  line-height:1.3;
}

/* =========================
   RESPONSIVE
   ========================= */

@media (max-width:520px){
  select#genre-recommendations{
    width:calc(100% - 36px);
    margin:0 18px 10px;
  }
  button{
    width:calc(100% - 36px);
    margin:0 18px;
  }
  ul{
    grid-template-columns:1fr;
  }
}
